# RollPlayingHelper


#### Description:
 I regularly host dnd games for my friends and family. I noticed that was hard for my players 
 to keep track of certain things. Those things were either more complicated or required updating frequently, which means a lot of erasing. So, I wanted to make a digital solution. I designed this as a mobile first web-based application since I am thinking about hosting it to make it accessible to my players. Since this application would need to keep track of things, I looked for a framework that allowed me to render state changes without making a server request every time. I also wanted to learn a modern framework with potential. That is why I used Sveltekit. For styling I used Tailwind CSS mainly because I wanted something fast while still learning more about CSS. My application consists of one page found under "/routes/+page.svelte". To import some data before the site loads, I export a load function in "/routes/+page.js". Since for now only a single object with static values is loaded this would not be necessary but this allows me to add data loaded from a database, maybe containing info about the current user if I want to implement it. The main page consists of four components with only three of them being shown at the same time. When visiting the site the user is prompted to create his character. This updates the character object that is shared between all components. Since the components are all children of the +page.svelte file no store was needed for this implementation. The parent just hands down the character to the children with "bind" this makes sure that any changes made in the children reach the parent and form there the other children.

 #### ClassAndLevelSelector
 The classAndLevelSelector component is only shown until the character is created after that it is replaced with a NotesAndButton component. The classAndLevelSelector component has a form that when submitted does not send a http request but calls classAndLevel(), this function takes the submitted level and character class to assign the spell slots the character has available as well as the hit point dice it has and the amount of hit point dice it has. The hit points are locked in as well and character.created is set to 1 which leads to this component not rendering any more. 
 
 #### Hitpoints
 The next component is the hitpoints.svelte component which tracks the hit points with a progress bar as well as text. The chracter.currentHitpoints are saved in a tweened variable which allows for a nice animation in the progress bar representing the hit points. The progress bar realized only with divs and tailwind styling. In an earlier version I used the HTML tag "progress" but it was difficult to style, because different browser engine handle this element differently. (The design for the progress bar was taken from https://flowbite.com/docs/components/progress/ and tweaked for my purpose). There are to button for taking damage. The first on deals one dmg and the second one 10. Those buttons call the function looseHitpoints(i) which updates the currentHitpoints accordingly. Since this represents a state change $: tweenedHitpoints.set()is also called to update which keeps the UI in synch with the hit points.
  The component also contains a button to roll a hit die. This calls rollHitPointDice() which than removes one hit die and randomly generates a number according to the hit die that was rolled. The result of the roll is shown and the hit points are regenerated accordingly.
  
  #### Spells
  The components Spells.svelte helps the player keep track of his total and remaining spellslots. As this is the most complicated thing to keep track of as a player this was ment as the main feature. For every grade the player has access to a div is generated with the grade as text and indicators for the spellslots. Available spell slots are represented in green and used one in red. When a player hits the cast button spellExhausted() is called with the used grade as a parameter. This reduces the spellslots available at this grade. The UI updates to reflect this change. When no spellslots in a grade are left the button that is rendered is changed to one that is diabled and visibly changed to reflect the inactivity.
  
  #### NotesAndButtons
  The last component of this app is the NotesAndButtons component. This component allows players to take quick notes. There is a textinput that is bound to newFieldValue and on:keydown onInput is called. This function is also called by the button next to the textfield. onInput checks if enter or the button was pressed and whether there is input in the textfield. An array of objects representing the notes is then updated with the new note. The notes are not a simple array because for the transition for adding and deleting a note to work svelte requires a unique identifier. The notes are represented in a div with a button to delete the corresponding note. This button calls an inline function that filters the array and remove the one with the correct id. On the bottom of this component is a button that represents a long rest in dungeon and dragons healing all HP, restoring all hit point dice and spell slots. 

  #### Conclusion
  During this project I learned a lot about web development especially front-end-development. I learned a lot about Svelte and Sveltekit (which was supposed to be used more but I ended up doing all components on one site) with their interactive tutorial found at "https://learn.svelte.dev/tutorial/welcome-to-svelte". In the end I achieved more than what I considered barebones but not all features I imagined. I really wanted to add a login and authentication for players so the characters would persist. But I am quite happy with the app to help the players while playing without too much hassle.

  #### Usage
  To start the webapp type "npm run dev" into the terminal. Follow the link to open the localhost in your browser. 

#### Disclaimer
This webapp is unofficial Fan Content permitted under the Fan Content
Policy. Not approved/endorsed by Wizards. Portions of the materials used are
property of Wizards of the Coast. Â©Wizards of the Coast LLC.
